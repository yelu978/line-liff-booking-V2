<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>é ç´„æ—¥æœŸ</title>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <style>
    body { font-family: sans-serif; padding: 20px; text-align: center; }
    input { width: 100%; padding: 10px; margin: 20px 0; font-size: 16px; }
    button { width: 100%; padding: 10px; background: #00b900; color: white; border: none; border-radius: 5px; font-size: 16px; }
  </style>
</head>
<body>
  <h3>è«‹é¸æ“‡é ç´„æ—¥æœŸ</h3>
  <input type="date" id="datePicker">
  <button onclick="submitDate()">ç¢ºèªé ç´„</button>

  <script>
    // åˆå§‹åŒ– LIFF
    liff.init({ liffId: "2008902381-sUXBqBnJ" }).then(() => {
      if (!liff.isLoggedIn()) {
        liff.login();
      }
    });

    function submitDate() {
      const selectedDate = document.getElementById('datePicker').value;
      if (!selectedDate) {
        alert('è«‹å…ˆé¸æ“‡æ—¥æœŸ ');
        return;
      }

      // å°‡è¨Šæ¯å‚³å›å°è©±æ¡†ä¸¦é—œé–‰ LIFF
      liff.sendMessages([{
        type: 'text',
        text: 'ğŸ“… æˆ‘å·²é¸æ“‡é ç´„æ—¥æœŸï¼š' + selectedDate
      }]).then(() => {
        liff.closeWindow();
      }).catch((err) => {
        console.error('å‚³é€å¤±æ•—', err);
      });
    }
  </script>
</body>
</html>
